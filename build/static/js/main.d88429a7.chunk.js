(this["webpackJsonpreact-three-template"]=this["webpackJsonpreact-three-template"]||[]).push([[0],{46:function(e,t,a){},60:function(e,t,a){},64:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(5),c=a(48),s=a.n(c),n=a(11),i=a(10),o=a(71),l=a(72),j=a(73),m=a(74),u=a(13),b=a(26),h=a(6),d=function(e){var t=e.onChange,a=e.presetColors;return Object(h.jsx)("div",{className:"picker",children:Object(h.jsx)("div",{className:"picker__swatches",children:a.map((function(e){return Object(h.jsx)("button",{className:"picker__swatch",style:{background:e},onClick:function(){return t(e)}},e)}))})})},O=a(12),p=a(22),f=a(17),_=a.n(f),x=a(23),g=function(e){var t=Object(r.useState)([]),a=Object(n.a)(t,2),c=a[0],s=a[1],o=Object(r.useState)("Classic"),l=Object(n.a)(o,2),j=l[0],m=l[1],u=function(){var e=Object(x.a)(_.a.mark((function e(t){var a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://chair--app.herokuapp.com/designs/".concat(t),{method:"DELETE"});case 3:a=e.sent,s(c.filter((function(e){return e.name!==t}))),console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(x.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://chair--app.herokuapp.com/designs");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(a),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){b()}),[]);var d=function(){var t,a=[],r=Object(p.a)(c);try{for(r.s();!(t=r.n()).done;){var s=t.value;s.item!==e.productName||a.includes(s.name)||a.push(s.name)}}catch(n){r.e(n)}finally{r.f()}return a}(),f=function(e){return c.filter((function(t){return t.name===e})).reduce((function(e,t){var a,r=t.chairpart,c=t.colour,s=t.item,n=t.name;return Object(i.a)(Object(i.a)({},e),{},(a={},Object(O.a)(a,r,c),Object(O.a)(a,"item",s),Object(O.a)(a,"name",n),a))}),{})},g=function(){for(var e=[],t=0;t<d.length;t++)e.push(f(d[t]));return e}();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"product__info__wrapper",children:[Object(h.jsx)("div",{className:"product__title",children:e.productName}),Object(h.jsxs)("div",{className:"product__subtitle",children:["Design: ",j]})]}),Object(h.jsxs)("div",{className:"custom__designs__wrapper",children:[Object(h.jsx)("div",{className:"design__saved__subtitle",children:"Saved Designs"}),Object(h.jsx)("div",{className:"design__saved__map__wrapper",children:g.map((function(t,a){return Object(h.jsxs)("div",{className:"design__wrapper",children:[Object(h.jsx)("div",{className:"design__name",children:t.name}),Object(h.jsx)("button",{className:"design__load",onClick:function(){m(t.name),function(t){Object.keys(e.state.items).map((function(a){return e.state.items[a]=g[t][a]}))}(a)},children:"load"}),Object(h.jsx)("button",{className:"design__delete",onClick:function(){return u(t.name)},children:"delete"})]},t.name)}))})]})]})})},v=function(e){var t=Object(r.useState)([]),a=Object(n.a)(t,2),c=a[0],s=a[1],i=Object(r.useState)("untitled"),o=Object(n.a)(i,2),l=o[0],j=o[1],m=function(){for(var t=Object.entries(e.state.items),a=[],r=0;r<t.length;r++)a[r]={name:l.trim(),item:e.productName,chairPart:t[r][0],colour:t[r][1]};return a},u=function(){var t=Object(x.a)(_.a.mark((function t(a){var r;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.prev=1,r=m(),t.next=5,fetch("https://chair--app.herokuapp.com/submit",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 5:s(c),window.location="/".concat(e.productName),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"design__save__wrapper",children:[Object(h.jsx)("input",{className:"design__input__name",type:"text",placeholder:"design name",onChange:function(e){return j(e.target.value)},tabIndex:"0",onKeyDown:function(e){return"Enter"===e.key?console.log("it worked"):console.log("it didnt work")}}),Object(h.jsx)("button",{className:"design__save",onClick:u,children:"Save Design"})]})};a(60);function N(e){var t=Object(b.useSnapshot)(e.state);return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{productName:e.productName,state:e.state}),Object(h.jsxs)("div",{className:"controls-overlay",children:[Object.entries(t.items).map((function(t,a){return Object(h.jsxs)("div",{className:"chair",children:[Object(h.jsxs)("div",{className:"chair__area",children:[t[0],Object(h.jsx)("button",{className:"chair__area__hide",onClick:function(){return e.setMesh[a](!e.mesh[a])},children:"hide mesh"})]}),Object(h.jsxs)("div",{className:"chair__colour",children:["colour: ",t[1]]}),Object(h.jsx)(d,{className:"picker",onChange:function(a){return e.state.items[t[0]]=a},presetColors:a>=4?["#ffffff","#cd9323","#000000"]:["#ffffff","#cd9323","#1a53d8","#9a2151","#0d6416","#8d2808","#000000"]})]},a)})),Object(h.jsxs)("button",{className:"chair__toggle__rotate",onClick:function(){return e.setRotate(!e.rotate)},children:["rotate: ","".concat(e.rotate)]}),Object(h.jsx)(v,{state:e.state,productName:e.productName})]})]})}var k=Object(b.proxy)({product:"Barcelona Chair",current:null,items:{chair_Upper:"#000000",chair_Lower:"#000000",buttons_Upper:"#ffffff",buttons_Lower:"#ffffff",backing:"#ffffff",frame:"#ffffff"}});function w(e){var t=Object(r.useRef)(),a=Object(b.useSnapshot)(k),c=Object(o.a)("/scene.gltf"),s=c.nodes,n=c.materials;return Object(h.jsx)("group",Object(i.a)(Object(i.a)({ref:t},e),{},{dispose:null,children:Object(h.jsxs)("group",{rotation:[-Math.PI/2,0,0],children:[Object(h.jsx)("mesh",{className:"mesh",geometry:s.Plane001_0_6.geometry,material:n.chairUpper,"material-color":a.items.chair_Upper,scale:e.mesh[0]?1:0}),Object(h.jsx)("mesh",{className:"mesh",geometry:s.Plane001_0_3.geometry,material:n.chairLower,"material-color":a.items.chair_Lower,scale:e.mesh[1]?1:0}),Object(h.jsx)("mesh",{className:"mesh",geometry:s.Plane001_0_5.geometry,material:n.buttonsUpper,"material-color":a.items.buttons_Upper,scale:e.mesh[2]?1:0}),Object(h.jsx)("mesh",{className:"mesh",geometry:s.Plane001_0_1.geometry,material:n.buttonsLower,"material-color":a.items.buttons_Lower,scale:e.mesh[3]?1:0}),Object(h.jsx)("mesh",{className:"mesh",geometry:s.Plane001_0_2.geometry,material:n.backing,"material-color":a.items.backing,scale:e.mesh[4]?1:0}),Object(h.jsx)("mesh",{className:"mesh",geometry:s.Plane001_0_4.geometry,material:n.frame,"material-color":a.items.frame,scale:e.mesh[5]?1:0})]})}))}function y(){var e=Object(r.useState)(!0),t=Object(n.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!0),i=Object(n.a)(s,2),o=i[0],b=i[1],d=Object(r.useState)(!0),O=Object(n.a)(d,2),p=O[0],f=O[1],_=Object(r.useState)(!0),x=Object(n.a)(_,2),g=x[0],v=x[1],y=Object(r.useState)(!0),S=Object(n.a)(y,2),C=S[0],E=S[1],L=Object(r.useState)(!0),P=Object(n.a)(L,2),R=P[0],M=P[1],U=Object(r.useState)(!0),D=Object(n.a)(U,2),F=D[0],I=D[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(u.a,{shadows:!0,dpr:[1,2],camera:{fov:50,position:[10,10,30]},children:[Object(h.jsx)(l.a,{autoRotate:!0,autoRotateSpeed:F?1:0}),Object(h.jsxs)(r.Suspense,{fallback:null,children:[Object(h.jsx)(j.a,{preset:"warehouse"}),Object(h.jsx)(w,{mesh:[a,o,p,g,C,R]}),Object(h.jsx)(m.a,{rotation:[Math.PI/2,0,0],position:[0,-4.75,0],width:15,height:15,blur:2.5,far:4.75})]})]}),Object(h.jsx)(N,{setMesh:[c,b,f,v,E,M],mesh:[a,o,p,g,C,R],setRotate:I,rotate:F,productName:k.product,state:k})]})}o.a.preload("/scene.gltf");a(64);var S=a(15),C=a(27),E=Object(b.proxy)({product:"Earnes Chair",current:null,items:{backing_Upper:"#ffffff",backing_Lower:"#ffffff",chair_Leather:"#ffffff",arm_Leather:"#ffffff",buttons:"#000000"}});function L(e){var t=Object(r.useRef)(),a=Object(b.useSnapshot)(E),c=Object(o.a)("/earneschair.gltf"),s=c.nodes,n=c.materials;return Object(h.jsx)("group",Object(i.a)(Object(i.a)({ref:t},e),{},{dispose:null,children:Object(h.jsxs)("group",{rotation:[-Math.PI/2,0,0],scale:.365,children:[Object(h.jsx)("mesh",{geometry:s.RubberMid_low006_Eames_Chair_0_1.geometry,material:n.Eames_Chair}),Object(h.jsx)("mesh",{scale:e.mesh[0]?1:0,geometry:s.RubberMid_low006_Eames_Chair_0_3.geometry,material:n.backingUpper,"material-color":a.items.backing_Upper}),Object(h.jsx)("mesh",{scale:e.mesh[1]?1:0,geometry:s.RubberMid_low006_Eames_Chair_0_4.geometry,material:n.backingLower,"material-color":a.items.backing_Lower}),Object(h.jsx)("mesh",{scale:e.mesh[2]?1:0,geometry:s.RubberMid_low006_Eames_Chair_0_5.geometry,material:n.chairLeather,"material-color":a.items.chair_Leather}),Object(h.jsx)("mesh",{scale:e.mesh[3]?1:0,geometry:s.RubberMid_low006_Eames_Chair_0_2.geometry,material:n.armLeather,"material-color":a.items.arm_Leather}),Object(h.jsx)("mesh",{scale:e.mesh[4]?1:0,geometry:s.RubberMid_low006_Eames_Chair_0_6.geometry,material:n.buttons,"material-color":a.items.buttons})]})}))}function P(){var e=Object(r.useState)(!0),t=Object(n.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(!0),i=Object(n.a)(s,2),o=i[0],b=i[1],d=Object(r.useState)(!0),O=Object(n.a)(d,2),p=O[0],f=O[1],_=Object(r.useState)(!0),x=Object(n.a)(_,2),g=x[0],v=x[1],k=Object(r.useState)(!0),w=Object(n.a)(k,2),y=w[0],S=w[1],C=Object(r.useState)(!0),P=Object(n.a)(C,2),R=P[0],M=P[1],U=Object(r.useState)(!0),D=Object(n.a)(U,2),F=D[0],I=D[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(u.a,{shadows:!0,dpr:[1,2],camera:{fov:50,position:[10,10,30]},children:[Object(h.jsx)(l.a,{autoRotate:!0,autoRotateSpeed:F?1:0}),Object(h.jsxs)(r.Suspense,{fallback:null,children:[Object(h.jsx)(j.a,{preset:"warehouse"}),Object(h.jsx)(L,{mesh:[a,o,p,g,y]}),Object(h.jsx)(m.a,{rotation:[Math.PI/2,0,0],position:[0,-4.75,0],width:15,height:15,blur:2.5,far:4.75})]})]}),Object(h.jsx)(N,{setMesh:[c,b,f,v,S,M],mesh:[a,o,p,g,y,R],setRotate:I,rotate:F,productName:E.product,state:E})]})}o.a.preload("/earneschair.gltf");a(46);function R(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"home__page__container",children:[Object(h.jsx)("div",{className:"home__page__title",children:"Product Designer"}),Object(h.jsx)("div",{className:"home__page__links",children:Object(h.jsx)(C.b,{to:"/All Products",children:"All Products"})})]})})}function M(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(S.c,{children:[Object(h.jsx)(S.a,{exact:!0,path:"/",children:Object(h.jsx)(R,{})}),Object(h.jsx)(S.a,{exact:!0,path:"/All Products",children:Object(h.jsxs)("div",{className:"home__page__container",children:[Object(h.jsx)("div",{className:"home__page__links",children:Object(h.jsx)(C.b,{to:"/",children:"Home"})}),Object(h.jsx)("div",{className:"home__page__links",children:Object(h.jsx)(C.b,{to:"/Barcelona Chair",children:"Barcelona Chair"})}),Object(h.jsx)("div",{className:"home__page__links",children:Object(h.jsx)(C.b,{to:"/Earnes Chair",children:"Earnes Chair"})})]})}),Object(h.jsx)(S.a,{exact:!0,path:"/Barcelona Chair",children:Object(h.jsx)(y,{})}),Object(h.jsx)(S.a,{exact:!0,path:"/Earnes Chair",children:Object(h.jsx)(P,{})})]})})}function U(){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(M,{})})}s.a.render(Object(h.jsx)(C.a,{children:Object(h.jsx)(U,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.d88429a7.chunk.js.map